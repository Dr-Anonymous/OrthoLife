import{c as w,r as d,j as e,B as F}from"./index-DYCdECr2.js";import{H as U,C as h,F as C}from"./Footer-5CF68671.js";import{C as u,a as j,b as f,d as P,c as g}from"./card-B7__9nPQ.js";import{I as o}from"./input-BlRor6HD.js";import{L as a}from"./label-D6la_Z2I.js";import{T as N}from"./textarea-CrPgbkNX.js";import{s as S}from"./client-opfxi3BE.js";import{F as c}from"./file-text-CbUmlQ7m.js";import{C as k}from"./circle-alert-i505oxSI.js";import"./index-DOA-4b-m.js";import"./phone-DAWZ9XqU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=w("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),O=()=>{const[t,n]=d.useState([]),[m,x]=d.useState(!1),[p,i]=d.useState("idle"),b=s=>{const r=s.target.files;r&&n(Array.from(r))},v=async s=>{s.preventDefault(),x(!0),i("idle");const r=new FormData(s.currentTarget);t.forEach(l=>{r.append("files",l)});try{(await S.functions.invoke("send-prescription-email",{method:"POST",body:r})).error?i("error"):(i("success"),n([]),s.target.reset())}catch(l){console.error("Error uploading prescription:",l),i("error")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(U,{}),e.jsx("main",{className:"flex-grow bg-muted/50 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-heading font-bold text-primary mb-4",children:"Upload Prescription"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Upload your prescription and get medicines delivered to your doorstep"})]}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(c,{className:"text-primary"}),"Prescription Details"]}),e.jsx(P,{children:"Please upload clear images of your prescription and provide your contact details"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"prescription",children:"Prescription Images *"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[e.jsx(y,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx(o,{id:"prescription",type:"file",multiple:!0,accept:"image/*,.pdf",onChange:b,className:"hidden"}),e.jsxs(a,{htmlFor:"prescription",className:"cursor-pointer",children:[e.jsx("div",{className:"mb-2 inline-block rounded-md border border-input bg-background px-4 py-2 text-sm font-medium shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground",children:"Choose Files"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload images or PDF files (Max 5MB each)"})]})]}),t.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Selected files:"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:t.map((s,r)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(c,{size:16}),s.name]},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"name",children:"Patient Name *"}),e.jsx(o,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(o,{id:"phone",name:"phone",type:"tel",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"address",children:"Delivery Address *"}),e.jsx(N,{id:"address",name:"address",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(N,{id:"notes",name:"notes",rows:2,placeholder:"Any specific instructions or queries"})]}),p==="success"&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(h,{className:"text-green-600",size:20}),e.jsx("span",{className:"text-green-700",children:"Prescription uploaded successfully! We'll contact you shortly."})]}),p==="error"&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(k,{className:"text-red-600",size:20}),e.jsx("span",{className:"text-red-700",children:"Upload failed. Please try again."})]}),e.jsx(F,{type:"submit",className:"w-full",disabled:m||t.length===0,children:m?"Uploading...":"Upload Prescription"})]})})]}),e.jsxs(u,{className:"mt-8",children:[e.jsx(j,{children:e.jsx(f,{children:"How it works"})}),e.jsx(g,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(y,{className:"text-primary",size:20})}),e.jsx("h3",{className:"font-semibold mb-2",children:"1. Upload"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload clear images of your prescription"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(c,{className:"text-primary",size:20})}),e.jsx("h3",{className:"font-semibold mb-2",children:"2. Review"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Our pharmacist will review your prescription and contact you to confirm the order"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(h,{className:"text-primary",size:20})}),e.jsx("h3",{className:"font-semibold mb-2",children:"3. Deliver"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Medicines delivered to your doorstep"})]})]})})]})]})})}),e.jsx(C,{})]})};export{O as default};
